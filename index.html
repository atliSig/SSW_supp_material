<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RepeaTTS: Towards Feature Discovery through Repeated Fine-Tuning</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='50%' x='50%' dominant-baseline='middle' text-anchor='middle' font-size='80'>üîÅ</text></svg>">
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f9f9f9;
        }
        
        h1{
            text-align: center;
            margin-bottom: 30px;
            color: #2c3e50;
        }
        
        .audio-container {
            background-color: #fff;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            transition: transform 0.2s;
        }
        
        .audio-container:hover {
            transform: translateY(-3px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.15);
        }
        
        .audio-title {
            font-weight: bold;
            margin-bottom: 10px;
            color: #3498db;
        }

        .audio-container > .audio-title{
            margin-top: 0;
        }
        
        .audio-description {
            margin-bottom: 15px;
            color: #555;
        }
        
        audio {
            width: 100%;
        }
        
        footer {
            text-align: center;
            margin-top: 40px;
            font-size: 0.9rem;
            color: #7f8c8d;
        }

        .section-heading {
            border-bottom: 2px solid #3498db;
            padding-bottom: 5px;
            margin-bottom: 20px;
            position: relative;
            padding-left: 20px;
        }

        .section-heading::before {
            content: "‚Ä¢";
            color: #3498db;
            font-size: 1.5rem;
            position: absolute;
            left: 0;
            top: 0;
        }

    </style>
</head>
<body>
    <div class="header" style="text-align: justify; max-width: 800px; margin: 0 auto;">
        <h1 style="font-size: 3rem;">üîÅ RepeaTTS</h1>
        <h1>Towards Feature Discovery through Repeated Fine-Tuning</h1>
        <p>
            A <i>Prompt-based</i> Text-To-Speech model allows a user to control different aspects of speech, 
            such as speaking rate and perceived gender, through natural language instruction. Although user-friendly, 
            such approaches are on one hand constrained: control is limited to acoustic features learned by the model 
            during training, and too flexible on the other: the same inputs yields uncontrollable variation that are 
            reflected in the corpus statistics. 

            <br><br>
            
            We investigate a novel fine-tuning regime to address both of these issues at the same time by exploiting 
            the uncontrollable variance of the model. Through principal component analysis of thousands of synthesised 
            samples, we determine latent features that account for the highest proportion of the output variance and 
            incorporate them as new labels for secondary fine-tuning. We evaluate the proposed methods on two models 
            trained on an expressive Icelandic speech corpus, one with emotional disclosure and one without. In the 
            case of the model without emotional disclosure, the method yields both continuous and discrete features 
            that improve overall controllability of the model. 
        </p>
    </div>
    <h2 style="text-align: center;">Supplementary material and samples</h2>
    </div>

    <h2 class="section-heading">Checkpoints and Datasets</h2>
    <div style="display: flex; gap: 24px; justify-content: center; flex-wrap: wrap; margin-bottom: 32px;">
        <div class="audio-container" style="flex: 1 1 320px; max-width: 400px; min-width: 260px;">
            <div class="audio-title">Model Checkpoints</div>
            <div class="audio-description">
                <p style="margin-top: 10px; color: #555; font-size: 0.97em;">
                    We make all model checkpoints available on HuggingFace. <b>EmotiveIcelandic</b> corresponds to <b>T3-emotional</b> in our paper.
                    The <b>RepeatTTS</b> series of models corresponds to the different fine-tuned versions of <b>T3</b> in our paper. Follow installation 
                    instructions on HF to setup the models.</p>
                
                <div>
                    <span style="margin-right: 5px;">ü§ó</span>
                    <a href="https://huggingface.co/atlithor/EmotiveIcelandic" target="_blank" style="color: #1976d2; text-decoration: underline; font-weight: bold;">
                        EmotiveIcelandic
                    </a>
                </div>
                <div>
                    <span style="margin-right: 5px;">ü§ó</span>
                    <a href="https://huggingface.co/atlithor/RepeaTTS-level-1" target="_blank" style="color: #1976d2; text-decoration: underline; font-weight: bold;">
                        RepeaTTS-level-1
                    </a>
                </div>
                <div>
                    <span style="margin-right: 5px;">ü§ó</span>
                    <a href="https://huggingface.co/atlithor/RepeaTTS-level-2" target="_blank" style="color: #1976d2; text-decoration: underline; font-weight: bold;">
                        RepeaTTS-level-2
                    </a>
                </div>
                <div>
                    <span style="margin-right: 5px;">ü§ó</span>
                    <a href="https://huggingface.co/atlithor/RepeaTTS-level-3" target="_blank" style="color: #1976d2; text-decoration: underline; font-weight: bold;">
                        RepeaTTS-level-3
                    </a>
                </div>
            </div>
        </div>
        <div class="audio-container" style="flex: 1 1 320px; max-width: 400px; min-width: 260px;">
            <div class="audio-title">Datasets</div>
            <div class="audio-description">
                <p style="margin-top: 10px; color: #555; font-size: 0.97em;">
                    All our datasets are based on an emotional Icelandic open-source corpus, with the addition of descriptive prompts for every utterance.
                    <b>talromur3 with prompts</b> includes information about the rendered emotion, while <b>talromur3 without emotions</b> does not.
                </p>
                <div>
                    <span style="margin-right: 5px;">ü§ó</span>
                    <a href="https://huggingface.co/datasets/atlithor/talromur3_with_prompts" target="_blank" style="color: #1976d2; text-decoration: underline; font-weight: bold;">
                        talromur3_with_prompts
                    </a>
                </div>
                <div>
                    <span style="margin-right: 5px;">ü§ó</span>
                    <a href="https://huggingface.co/datasets/atlithor/talromur3_without_emotions" target="_blank" style="color: #1976d2; text-decoration: underline; font-weight: bold;">
                        talromur3_without_emotions
                    </a>
                    
                </div>
            </div>
        </div>
    </div>

    <h2 class="section-heading">Emotional Synthesis</h2>
    <p>
        These samples are generated using <b>T3-emotional</b>. We synthesise the same text for all speakers and emotions.
        The emotional intensity is set to 3 of 5, so in each case the model is prompted with, e.g. <i>The speaker's voice sounds clear and close to the microphone. The [speaker] sounds [emotion].</i>
    </p>

    <div class="audio-container">
        <div style="display: grid; grid-template-columns: repeat(7, 1fr); gap: 20px; text-align: center;">
            <div></div>
            <div>Neutral</div>
            <div>Happy</div>
            <div>Angry</div>
            <div>Surprised</div>
            <div>Sad</div>
            <div>Helpful</div>

            <div>Ingrid</div>
            <audio controls><source src="used_samples/t3_all_emotions/utts/Ingrid_txt_3_desc_1_0.wav" type="audio/wav"></audio>
            <audio controls><source src="used_samples/t3_all_emotions/utts/Ingrid_txt_3_desc_5_0.wav" type="audio/wav"></audio>
            <audio controls><source src="used_samples/t3_all_emotions/utts/Ingrid_txt_3_desc_6_0.wav" type="audio/wav"></audio>
            <audio controls><source src="used_samples/t3_all_emotions/utts/Ingrid_txt_3_desc_7_0.wav" type="audio/wav"></audio>
            <audio controls><source src="used_samples/t3_all_emotions/utts/Ingrid_txt_3_desc_2_0.wav" type="audio/wav"></audio>
            <audio controls><source src="used_samples/t3_all_emotions/utts/Ingrid_txt_3_desc_8_0.wav" type="audio/wav"></audio>
            </div>
    </div>
    <div class="audio-container">
        <div style="display: grid; grid-template-columns: repeat(7, 1fr); gap: 20px; text-align: center;">
            <div></div>
            <div>Neutral</div>
            <div>Happy</div>
            <div>Angry</div>
            <div>Surprised</div>
            <div>Sad</div>
            <div>Helpful</div>
            <div>Leif</div>
            <audio controls><source src="used_samples/t3_all_emotions/utts/Leif_txt_3_desc_1_0.wav" type="audio/wav"></audio>
            <audio controls><source src="used_samples/t3_all_emotions/utts/Leif_txt_3_desc_5_0.wav" type="audio/wav"></audio>
            <audio controls><source src="used_samples/t3_all_emotions/utts/Leif_txt_3_desc_6_0.wav" type="audio/wav"></audio>
            <audio controls><source src="used_samples/t3_all_emotions/utts/Leif_txt_3_desc_7_0.wav" type="audio/wav"></audio>
            <audio controls><source src="used_samples/t3_all_emotions/utts/Leif_txt_3_desc_2_0.wav" type="audio/wav"></audio>
            <audio controls><source src="used_samples/t3_all_emotions/utts/Leif_txt_3_desc_8_0.wav" type="audio/wav"></audio>
        </div>
    </div>
    <div class="audio-container">
        <div style="display: grid; grid-template-columns: repeat(7, 1fr); gap: 20px; text-align: center;">
            <div></div>
            <div>Neutral</div>
            <div>Happy</div>
            <div>Angry</div>
            <div>Surprised</div>
            <div>Sad</div>
            <div>Helpful</div>        
            <div>Freyja</div>
            <audio controls><source src="used_samples/t3_all_emotions/utts/Freya_txt_3_desc_1_0.wav" type="audio/wav"></audio>
            <audio controls><source src="used_samples/t3_all_emotions/utts/Freya_txt_3_desc_5_0.wav" type="audio/wav"></audio>
            <audio controls><source src="used_samples/t3_all_emotions/utts/Freya_txt_3_desc_6_0.wav" type="audio/wav"></audio>
            <audio controls><source src="used_samples/t3_all_emotions/utts/Freya_txt_3_desc_7_0.wav" type="audio/wav"></audio>
            <audio controls><source src="used_samples/t3_all_emotions/utts/Freya_txt_3_desc_2_0.wav" type="audio/wav"></audio>
            <audio controls><source src="used_samples/t3_all_emotions/utts/Freya_txt_3_desc_8_0.wav" type="audio/wav"></audio>
        </div>
    </div>
    <div class="audio-container">
        <div style="display: grid; grid-template-columns: repeat(7, 1fr); gap: 20px; text-align: center;">
            <div></div>
            <div>Neutral</div>
            <div>Happy</div>
            <div>Angry</div>
            <div>Surprised</div>
            <div>Sad</div>
            <div>Helpful</div>
            <div>Anders</div>
            <audio controls><source src="used_samples/t3_all_emotions/utts/Anders_txt_3_desc_1_0.wav" type="audio/wav"></audio>
            <audio controls><source src="used_samples/t3_all_emotions/utts/Anders_txt_3_desc_5_0.wav" type="audio/wav"></audio>
            <audio controls><source src="used_samples/t3_all_emotions/utts/Anders_txt_3_desc_6_0.wav" type="audio/wav"></audio>
            <audio controls><source src="used_samples/t3_all_emotions/utts/Anders_txt_3_desc_7_0.wav" type="audio/wav"></audio>
            <audio controls><source src="used_samples/t3_all_emotions/utts/Anders_txt_3_desc_2_0.wav" type="audio/wav"></audio>
            <audio controls><source src="used_samples/t3_all_emotions/utts/Anders_txt_3_desc_8_0.wav" type="audio/wav"></audio>
        </div>
    </div>
    <div class="audio-container">
        <div style="display: grid; grid-template-columns: repeat(7, 1fr); gap: 20px; text-align: center;">
            <div></div>
            <div>Neutral</div>
            <div>Happy</div>
            <div>Angry</div>
            <div>Surprised</div>
            <div>Sad</div>
            <div>Helpful</div>
            <div>Astrid</div>
            <audio controls><source src="used_samples/t3_all_emotions/utts/Astrid_txt_3_desc_1_0.wav" type="audio/wav"></audio>
            <audio controls><source src="used_samples/t3_all_emotions/utts/Astrid_txt_3_desc_2_0.wav" type="audio/wav"></audio>
            <audio controls><source src="used_samples/t3_all_emotions/utts/Astrid_txt_3_desc_6_0.wav" type="audio/wav"></audio>
            <audio controls><source src="used_samples/t3_all_emotions/utts/Astrid_txt_3_desc_7_0.wav" type="audio/wav"></audio>
            <audio controls><source src="used_samples/t3_all_emotions/utts/Astrid_txt_3_desc_5_0.wav" type="audio/wav"></audio>
            <audio controls><source src="used_samples/t3_all_emotions/utts/Astrid_txt_3_desc_8_0.wav" type="audio/wav"></audio>
        </div>
    </div>
    <div class="audio-container">
        <div style="display: grid; grid-template-columns: repeat(7, 1fr); gap: 20px; text-align: center;">
            <div></div>
            <div>Neutral</div>
            <div>Happy</div>
            <div>Angry</div>
            <div>Surprised</div>
            <div>Sad</div>
            <div>Helpful</div>
            <div>Bjorn</div>
            <audio controls><source src="used_samples/t3_all_emotions/utts/Bjorn_txt_3_desc_1_0.wav" type="audio/wav"></audio>
            <audio controls><source src="used_samples/t3_all_emotions/utts/Bjorn_txt_3_desc_5_0.wav" type="audio/wav"></audio>
            <audio controls><source src="used_samples/t3_all_emotions/utts/Bjorn_txt_3_desc_6_0.wav" type="audio/wav"></audio>
            <audio controls><source src="used_samples/t3_all_emotions/utts/Bjorn_txt_3_desc_7_0.wav" type="audio/wav"></audio>
            <audio controls><source src="used_samples/t3_all_emotions/utts/Bjorn_txt_3_desc_2_0.wav" type="audio/wav"></audio>
            <audio controls><source src="used_samples/t3_all_emotions/utts/Bjorn_txt_3_desc_8_0.wav" type="audio/wav"></audio>
        </div>
    </div>
    <div class="audio-container">
        <div style="display: grid; grid-template-columns: repeat(7, 1fr); gap: 20px; text-align: center;">
            <div></div>
            <div>Neutral</div>
            <div>Happy</div>
            <div>Angry</div>
            <div>Surprised</div>
            <div>Sad</div>
            <div>Helpful</div>

            <div>Frida</div>
            <audio controls><source src="used_samples/t3_all_emotions/utts/Frida_txt_3_desc_1_0.wav" type="audio/wav"></audio>
            <audio controls><source src="used_samples/t3_all_emotions/utts/Frida_txt_3_desc_5_0.wav" type="audio/wav"></audio>
            <audio controls><source src="used_samples/t3_all_emotions/utts/Frida_txt_3_desc_6_0.wav" type="audio/wav"></audio>
            <audio controls><source src="used_samples/t3_all_emotions/utts/Frida_txt_3_desc_7_0.wav" type="audio/wav"></audio>
            <audio controls><source src="used_samples/t3_all_emotions/utts/Frida_txt_3_desc_2_0.wav" type="audio/wav"></audio>
            <audio controls><source src="used_samples/t3_all_emotions/utts/Frida_txt_3_desc_8_0.wav" type="audio/wav"></audio>
        </div>
    </div>
    
    <h2 class="section-heading">Emotional Intensity</h2>
    <p>
        Emotional intensity labels are included in the training prompts for <b>T3-emotional</b>, which allow the model to synthesise emotions on a 5 point scale.
        This is done by prompting the model with, e.g. <i>The speaker's voice sounds clear and close to the microphone. The [speaker] sounds [intensity] [emotion]</i>
        where [intensity] can be, for example, <i>extremely</i>, <i>somewhat</i>, <i>slightly</i> etc.
    </p>
    
    <div class="audio-container">
        <h3 class="audio-title">Sadness</h3>
        <div style="display: grid; grid-template-columns: repeat(6, 1fr); gap: 20px; text-align: center;">
            <div></div>
            <div>Very Low</div>
            <div>Low</div>
            <div>Medium</div>
            <div>High</div>
            <div>Very High</div>

            <div>Ingrid</div>
            <audio controls><source src="used_samples/t3_ingrid_leif_emotional_intensity_1/utts/Ingrid_txt_2_desc_1_0.wav" type="audio/wav"></audio>
            <audio controls><source src="used_samples/t3_ingrid_leif_emotional_intensity_1/utts/Ingrid_txt_2_desc_2_0.wav" type="audio/wav"></audio>
            <audio controls><source src="used_samples/t3_ingrid_leif_emotional_intensity_1/utts/Ingrid_txt_2_desc_3_0.wav" type="audio/wav"></audio>
            <audio controls><source src="used_samples/t3_ingrid_leif_emotional_intensity_1/utts/Ingrid_txt_2_desc_4_0.wav" type="audio/wav"></audio>
            <audio controls><source src="used_samples/t3_ingrid_leif_emotional_intensity_1/utts/Ingrid_txt_2_desc_5_0.wav" type="audio/wav"></audio>

            <div>Leif</div>
            <audio controls><source src="used_samples/t3_ingrid_leif_emotional_intensity_1/utts/Leif_txt_2_desc_1_0.wav" type="audio/wav"></audio>
            <audio controls><source src="used_samples/t3_ingrid_leif_emotional_intensity_1/utts/Leif_txt_2_desc_2_0.wav" type="audio/wav"></audio>
            <audio controls><source src="used_samples/t3_ingrid_leif_emotional_intensity_1/utts/Leif_txt_2_desc_3_0.wav" type="audio/wav"></audio>
            <audio controls><source src="used_samples/t3_ingrid_leif_emotional_intensity_1/utts/Leif_txt_2_desc_4_0.wav" type="audio/wav"></audio>
            <audio controls><source src="used_samples/t3_ingrid_leif_emotional_intensity_1/utts/Leif_txt_2_desc_5_0.wav" type="audio/wav"></audio>

        </div>
    </div>
    <div class="audio-container">
        <h3 class="audio-title">Happiness</h3>
        <div style="display: grid; grid-template-columns: repeat(6, 1fr); gap: 20px; text-align: center;">
            <div></div>
            <div>Very Low</div>
            <div>Low</div>
            <div>Medium</div>
            <div>High</div>
            <div>Very High</div>

            <div>Ingrid</div>
            <audio controls><source src="used_samples/t3_ingrid_leif_emotional_intensity_1/utts/Ingrid_txt_2_desc_6_0.wav" type="audio/wav"></audio>
            <audio controls><source src="used_samples/t3_ingrid_leif_emotional_intensity_1/utts/Ingrid_txt_2_desc_7_0.wav" type="audio/wav"></audio>
            <audio controls><source src="used_samples/t3_ingrid_leif_emotional_intensity_1/utts/Ingrid_txt_2_desc_8_0.wav" type="audio/wav"></audio>
            <audio controls><source src="used_samples/t3_ingrid_leif_emotional_intensity_1/utts/Ingrid_txt_2_desc_9_0.wav" type="audio/wav"></audio>
            <audio controls><source src="used_samples/t3_ingrid_leif_emotional_intensity_1/utts/Ingrid_txt_2_desc_10_0.wav" type="audio/wav"></audio>

            <div>Leif</div>
            <audio controls><source src="used_samples/t3_ingrid_leif_emotional_intensity_1/utts/Leif_txt_2_desc_6_0.wav" type="audio/wav"></audio>
            <audio controls><source src="used_samples/t3_ingrid_leif_emotional_intensity_1/utts/Leif_txt_2_desc_7_0.wav" type="audio/wav"></audio>
            <audio controls><source src="used_samples/t3_ingrid_leif_emotional_intensity_1/utts/Leif_txt_2_desc_8_0.wav" type="audio/wav"></audio>
            <audio controls><source src="used_samples/t3_ingrid_leif_emotional_intensity_1/utts/Leif_txt_2_desc_9_0.wav" type="audio/wav"></audio>
            <audio controls><source src="used_samples/t3_ingrid_leif_emotional_intensity_1/utts/Leif_txt_2_desc_10_0.wav" type="audio/wav"></audio>
        </div>
    </div>
    <div class="audio-container">
        <h3 class="audio-title">Anger</h3>
        <div style="display: grid; grid-template-columns: repeat(6, 1fr); gap: 20px; text-align: center;">
            <div></div>
            <div>Very Low</div>
            <div>Low</div>
            <div>Medium</div>
            <div>High</div>
            <div>Very High</div>

            <div>Ingrid</div>
            <audio controls><source src="used_samples/t3_ingrid_leif_emotional_intensity_1/utts/Ingrid_txt_2_desc_11_0.wav" type="audio/wav"></audio>
            <audio controls><source src="used_samples/t3_ingrid_leif_emotional_intensity_1/utts/Ingrid_txt_2_desc_12_0.wav" type="audio/wav"></audio>
            <audio controls><source src="used_samples/t3_ingrid_leif_emotional_intensity_1/utts/Ingrid_txt_2_desc_13_0.wav" type="audio/wav"></audio>
            <audio controls><source src="used_samples/t3_ingrid_leif_emotional_intensity_1/utts/Ingrid_txt_2_desc_14_0.wav" type="audio/wav"></audio>
            <audio controls><source src="used_samples/t3_ingrid_leif_emotional_intensity_1/utts/Ingrid_txt_2_desc_15_0.wav" type="audio/wav"></audio>

            <div>Leif</div>
            <audio controls><source src="used_samples/t3_ingrid_leif_emotional_intensity_1/utts/Leif_txt_2_desc_11_0.wav" type="audio/wav"></audio>
            <audio controls><source src="used_samples/t3_ingrid_leif_emotional_intensity_1/utts/Leif_txt_2_desc_12_0.wav" type="audio/wav"></audio>
            <audio controls><source src="used_samples/t3_ingrid_leif_emotional_intensity_1/utts/Leif_txt_2_desc_13_0.wav" type="audio/wav"></audio>
            <audio controls><source src="used_samples/t3_ingrid_leif_emotional_intensity_1/utts/Leif_txt_2_desc_14_0.wav" type="audio/wav"></audio>
            <audio controls><source src="used_samples/t3_ingrid_leif_emotional_intensity_1/utts/Leif_txt_2_desc_15_0.wav" type="audio/wav"></audio>
        </div>
    </div>
    <div class="audio-container">
        <h3 class="audio-title">Surprisal</h3>
        <div style="display: grid; grid-template-columns: repeat(6, 1fr); gap: 20px; text-align: center;">
            <div></div>
            <div>Very Low</div>
            <div>Low</div>
            <div>Medium</div>
            <div>High</div>
            <div>Very High</div>

            <div>Ingrid</div>
            <audio controls><source src="used_samples/t3_ingrid_leif_emotional_intensity_1/utts/Ingrid_txt_2_desc_16_0.wav" type="audio/wav"></audio>
            <audio controls><source src="used_samples/t3_ingrid_leif_emotional_intensity_1/utts/Ingrid_txt_2_desc_17_0.wav" type="audio/wav"></audio>
            <audio controls><source src="used_samples/t3_ingrid_leif_emotional_intensity_1/utts/Ingrid_txt_2_desc_18_0.wav" type="audio/wav"></audio>
            <audio controls><source src="used_samples/t3_ingrid_leif_emotional_intensity_1/utts/Ingrid_txt_2_desc_19_0.wav" type="audio/wav"></audio>
            <audio controls><source src="used_samples/t3_ingrid_leif_emotional_intensity_1/utts/Ingrid_txt_2_desc_20_0.wav" type="audio/wav"></audio>

            <div>Leif</div>
            <audio controls><source src="used_samples/t3_ingrid_leif_emotional_intensity_1/utts/Leif_txt_2_desc_16_0.wav" type="audio/wav"></audio>
            <audio controls><source src="used_samples/t3_ingrid_leif_emotional_intensity_1/utts/Leif_txt_2_desc_17_0.wav" type="audio/wav"></audio>
            <audio controls><source src="used_samples/t3_ingrid_leif_emotional_intensity_1/utts/Leif_txt_2_desc_18_0.wav" type="audio/wav"></audio>
            <audio controls><source src="used_samples/t3_ingrid_leif_emotional_intensity_1/utts/Leif_txt_2_desc_19_0.wav" type="audio/wav"></audio>
            <audio controls><source src="used_samples/t3_ingrid_leif_emotional_intensity_1/utts/Leif_txt_2_desc_20_0.wav" type="audio/wav"></audio>
        </div>
    </div>
    <div class="audio-container">
        <h3 class="audio-title">Helpfulness</h3>
        <div style="display: grid; grid-template-columns: repeat(6, 1fr); gap: 20px; text-align: center;">
            <div></div>
            <div>Very Low</div>
            <div>Low</div>
            <div>Medium</div>
            <div>High</div>
            <div>Very High</div>

            <div>Ingrid</div>
            <audio controls><source src="used_samples/t3_ingrid_leif_emotional_intensity_1/utts/Ingrid_txt_2_desc_21_0.wav" type="audio/wav"></audio>
            <audio controls><source src="used_samples/t3_ingrid_leif_emotional_intensity_1/utts/Ingrid_txt_2_desc_22_0.wav" type="audio/wav"></audio>
            <audio controls><source src="used_samples/t3_ingrid_leif_emotional_intensity_1/utts/Ingrid_txt_2_desc_23_0.wav" type="audio/wav"></audio>
            <audio controls><source src="used_samples/t3_ingrid_leif_emotional_intensity_1/utts/Ingrid_txt_2_desc_24_0.wav" type="audio/wav"></audio>
            <audio controls><source src="used_samples/t3_ingrid_leif_emotional_intensity_1/utts/Ingrid_txt_2_desc_25_0.wav" type="audio/wav"></audio>

            <div>Leif</div>
            <audio controls><source src="used_samples/t3_ingrid_leif_emotional_intensity_1/utts/Leif_txt_2_desc_21_0.wav" type="audio/wav"></audio>
            <audio controls><source src="used_samples/t3_ingrid_leif_emotional_intensity_1/utts/Leif_txt_2_desc_22_0.wav" type="audio/wav"></audio>
            <audio controls><source src="used_samples/t3_ingrid_leif_emotional_intensity_1/utts/Leif_txt_2_desc_23_0.wav" type="audio/wav"></audio>
            <audio controls><source src="used_samples/t3_ingrid_leif_emotional_intensity_1/utts/Leif_txt_2_desc_24_0.wav" type="audio/wav"></audio>
            <audio controls><source src="used_samples/t3_ingrid_leif_emotional_intensity_1/utts/Leif_txt_2_desc_25_0.wav" type="audio/wav"></audio>
        </div>
    </div>

    <h2 class="section-heading">Prompt generation</h2>
    <p>
        We prompt Mistral-7B-Instruct-v0.2 to generate the description prompts used for training our models. Here is the full prompt used to train <b>T3-emotional</b>.
    </p>
    <code style="max-height: 500px; overflow-y: auto; background-color: #2d2d2d; color: #3498db; border-radius: 8px; display: block; padding: 25px;">
        You will be given 7 descriptive keywords related to an audio sample of [speaker_name]'s speech. These keywords include:<br>
        1. The gender (male, female)<br>
        2. The level of reverberation (very distant-sounding, distant-sounding, slightly distant-sounding, slightly close-sounding, very close-sounding)<br>
        3. The amount of noise in the sample (extremely noisy, very noisy, noisy, slightly noisy, almost no noise, very clear)<br>
        4. The tone of the speaker's voice (very monotone, monotone, slightly expressive and animated, expressive and animated, very expressive and animated)<br>
        5. The pace of the speaker's delivery (very slowly, slowly, slightly slowly, moderate speed, slightly fast, fast, very fast)<br>
        6. The pitch of the speaker's voice (very low-pitch, low-pitch, slightly low-pitch, moderate pitch, slightly high-pitch, high-pitch, very high-pitch)<br>
        7. The emotion of the speaker's voice. This could be one of 6: Happy, Sad, Angry, Surprised, Helpful or Neutral.<br>
        This will also include the intensity of the emotion (for example:<br>
        - neutral emotion: there is no particular emotion<br>
        - high intensity sad emotion: the speaker is sad and the intensity of the emotion is high<br>
        - medium intensity happy emotion: the speaker sounds happy and the intensity of that emotion is medium<br>
        - low intensity surprised emotion: the speaker sounds a little bit surprised<br>
        - very high intensity helpful emotion: the speaker sounds incredibly helpful<br>
        ...)<br><br>

        Your task is to create a text description using these keywords that accurately describes the speech sample.
        If the amount of noise is 'very noisy' and the level of reverberation is 'very distant-sounding', you must include terms such as 'very poor recording' or `very bad recording` in the description.
        Likewise, if the amount of noise is 'very clear' and the level of reverberation is 'very close-sounding', you must include terms like 'very good recording' or `excellent recording` in the description.
        And you must always specify what the emotion of the speaker is, and the intensity of that emotion. For example, if the emotion of the speaker is "low intensity happy emotion", you must include terms like `slightly happy sounding` in the description.
        Do not add extra details beyond what has been provided above. You can change the order of keywords, and replace synonymous terms.
        <br><br>
        For example, given the following keywords: 'female', 'slightly distant-sounding', 'noisy', 'very expressive and animated', 'very slowly', 'moderate pitch' and 'high intensity angry emotion' a valid description would be: '[speaker_name] speaks very slowly but has a very animated delivery. She sounds noticably angry. The recording is noisy and there is some roominess.'
        Another valid description would be: 'In a noisy room, [speaker_name] delivers a very animated and expressive speech, at a very slow pace. [speaker_name] is audibly angry.'
        Another valid description would be: '[speaker_name] enunciates a very expressive speech while clearly angry. Her voice is slightly distant-sounding, with some background noise present. [speaker_name] speaks very slowly with a moderate pitch but a very expressive tone.'
        <br><br>
        Note that the intensity of the speaker's emotion is sometimes specifically mentioned. This should not be confused with the speaker's tone. So, for example: the speaker might
        be 'very expressive and animated' and have 'low intensity sad emotion'. In which case you have to describe the tone of voice as being expressive (e.g. '[speaker_name]'s tone is highly dynamic') while the intensity of the emotion is low (e.g. '[speaker_name] sounds a little bit sad')
        <br><br>
        Ensure that the generated description is grammatically correct, easy to understand, and concise. Only return one and only one description.
        <br><br>
        For the keywords: '[gender]', '[reverberation]', '[sdr_noise]', '[speech_monotony]', '[speaking_rate]', '[pitch]' and '[emotion]' the corresponding description is:
    </code>

    <h2 class="section-heading">Hyperparameter Search</h2>
    <div class="audio-container">
        <div class="audio-title">Grid Search for k and t</div>
        <div class="audio-description">
            <p>
                We performed a simple grid search over the hyperparameters <b>k</b> (for k-sampling) and <b>t</b> (for temperature)
                to determine a suitable configuration for expressive and varied generation. 
            </p> 
        </div>
        <div style="display: grid; grid-template-columns: repeat(6, 1fr); gap: 18px; text-align: center; align-items: center;">
            <div></div>
            <div>k=50</div>
            <div>k=100</div>
            <div>k=150</div>
            <div>k=200</div>
            <div>k=300</div>
            <div>t=1.0</div>
            <audio controls><source src="used_samples/hparam_search/k_50_t_1.0/utts/Ingrid_txt_1_desc_1_6.wav" type="audio/wav"></audio>
            <audio controls><source src="used_samples/hparam_search/k_100_t_1.0/utts/Ingrid_txt_1_desc_1_6.wav" type="audio/wav"></audio>
            <audio controls><source src="used_samples/hparam_search/k_150_t_1.0/utts/Ingrid_txt_1_desc_1_6.wav" type="audio/wav"></audio>
            <audio controls><source src="used_samples/hparam_search/k_200_t_1.0/utts/Ingrid_txt_1_desc_1_6.wav" type="audio/wav"></audio>
            <audio controls><source src="used_samples/hparam_search/k_300_t_1.0/utts/Ingrid_txt_1_desc_1_6.wav" type="audio/wav"></audio>
            <div>t=1.1</div>
            <audio controls><source src="used_samples/hparam_search/k_50_t_1.1/utts/Ingrid_txt_1_desc_1_6.wav" type="audio/wav"></audio>
            <audio controls><source src="used_samples/hparam_search/k_100_t_1.1/utts/Ingrid_txt_1_desc_1_6.wav" type="audio/wav"></audio>
            <audio controls><source src="used_samples/hparam_search/k_150_t_1.1/utts/Ingrid_txt_1_desc_1_6.wav" type="audio/wav"></audio>
            <audio controls><source src="used_samples/hparam_search/k_200_t_1.1/utts/Ingrid_txt_1_desc_1_6.wav" type="audio/wav"></audio>
            <audio controls><source src="used_samples/hparam_search/k_300_t_1.1/utts/Ingrid_txt_1_desc_1_6.wav" type="audio/wav"></audio>
            <div>t=1.2</div>
            <audio controls><source src="used_samples/hparam_search/k_50_t_1.2/utts/Ingrid_txt_1_desc_1_6.wav" type="audio/wav"></audio>
            <audio controls><source src="used_samples/hparam_search/k_100_t_1.2/utts/Ingrid_txt_1_desc_1_6.wav" type="audio/wav"></audio>
            <audio controls><source src="used_samples/hparam_search/k_150_t_1.2/utts/Ingrid_txt_1_desc_1_6.wav" type="audio/wav"></audio>
            <audio controls><source src="used_samples/hparam_search/k_200_t_1.2/utts/Ingrid_txt_1_desc_1_6.wav" type="audio/wav"></audio>
            <audio controls><source src="used_samples/hparam_search/k_300_t_1.2/utts/Ingrid_txt_1_desc_1_6.wav" type="audio/wav"></audio>
            <div>t=1.3</div>
            <audio controls><source src="used_samples/hparam_search/k_50_t_1.3/utts/Ingrid_txt_1_desc_1_6.wav" type="audio/wav"></audio>
            <audio controls><source src="used_samples/hparam_search/k_100_t_1.3/utts/Ingrid_txt_1_desc_1_6.wav" type="audio/wav"></audio>
            <audio controls><source src="used_samples/hparam_search/k_150_t_1.3/utts/Ingrid_txt_1_desc_1_6.wav" type="audio/wav"></audio>
            <audio controls><source src="used_samples/hparam_search/k_200_t_1.3/utts/Ingrid_txt_1_desc_1_6.wav" type="audio/wav"></audio>
            <audio controls><source src="used_samples/hparam_search/k_300_t_1.3/utts/Ingrid_txt_1_desc_1_6.wav" type="audio/wav"></audio>
            <div>t=1.4</div>
            <audio controls><source src="used_samples/hparam_search/k_50_t_1.4/utts/Ingrid_txt_1_desc_1_6.wav" type="audio/wav"></audio>
            <audio controls><source src="used_samples/hparam_search/k_100_t_1.4/utts/Ingrid_txt_1_desc_1_6.wav" type="audio/wav"></audio>
            <audio controls><source src="used_samples/hparam_search/k_150_t_1.4/utts/Ingrid_txt_1_desc_1_6.wav" type="audio/wav"></audio>
            <audio controls><source src="used_samples/hparam_search/k_200_t_1.4/utts/Ingrid_txt_1_desc_1_6.wav" type="audio/wav"></audio>
            <audio controls><source src="used_samples/hparam_search/k_300_t_1.4/utts/Ingrid_txt_1_desc_1_6.wav" type="audio/wav"></audio>
            <div>t=1.5</div>
            <audio controls><source src="used_samples/hparam_search/k_50_t_1.5/utts/Ingrid_txt_1_desc_1_6.wav" type="audio/wav"></audio>
            <audio controls><source src="used_samples/hparam_search/k_100_t_1.5/utts/Ingrid_txt_1_desc_1_6.wav" type="audio/wav"></audio>
            <audio controls><source src="used_samples/hparam_search/k_150_t_1.5/utts/Ingrid_txt_1_desc_1_6.wav" type="audio/wav"></audio>
            <audio controls><source src="used_samples/hparam_search/k_200_t_1.5/utts/Ingrid_txt_1_desc_1_6.wav" type="audio/wav"></audio>
            <audio controls><source src="used_samples/hparam_search/k_300_t_1.5/utts/Ingrid_txt_1_desc_1_6.wav" type="audio/wav"></audio>
        </div>
    </div>
    <h2 class="section-heading">Just for fun</h2>
    <div class="audio-container">
        <div class="audio-title">1,000 F0 Contours</div>
        <div class="audio-description">
            With default generation parameters, the model is highly consistent for fixed inputs. The figure below shows an overlay of 1,000 generated samples
            in a neutral speaking test, and the corresponding overlayed audio. 
        </div>
        <div style="display: flex; flex-direction: column; gap: 15px; justify-content: center; align-items: center;">
            <div>
            <img src="plots/individual_f0_contours.png" alt="Individual F0 Contours" style="width: 100%; margin-bottom: 5px;">
            <p style="text-align: center; font-size: 0.9rem; color: #555;">Density of 1000 F0 contours</p>
            </div>
        </div>
        <audio controls>
            <source src="used_samples/for_fun/overlay.wav" type="audio/wav">
            Your browser does not support the audio element.
        </audio>
    </div>

    <div class="audio-container">
        <div class="audio-title">Ambiguous speaker labels</div>
        <div class="audio-description">
            Prompting the model with ambiguous speaker labels, such as <i>the man</i>, <i>the woman</i> or <i>the person</i>,
            sometimes yields voices that are distinct from the training voices.
        </div>
        <div style="display: flex; align-items: center; gap: 20px; text-align: center; padding-bottom: 20px;">
            <div style="min-width: 50px;">The woman</div>
            <audio controls>
                <source src="used_samples/t3_all_emotions/utts/The woman_txt_2_desc_13_0.wav" type="audio/wav">
            </audio>
            <audio controls>
                <source src="used_samples/t3_all_emotions/utts/The woman_txt_2_desc_14_0.wav" type="audio/wav">
            </audio>
            <audio controls>
                <source src="used_samples/t3_all_emotions/utts/The woman_txt_2_desc_10_0.wav" type="audio/wav">
            </audio>
        </div>
        
        <div style="display: flex; align-items: center; gap: 20px; text-align: center; padding-bottom: 20px;">
            <div style="min-width: 50px;">The man</div>
            <audio controls>
                <source src="used_samples/t3_all_emotions/utts/The man_txt_1_desc_14_0.wav" type="audio/wav">
            </audio>
            <audio controls>
                <source src="used_samples/t3_all_emotions/utts/The man_txt_1_desc_10_0.wav" type="audio/wav">
            </audio>
            <audio controls>
                <source src="used_samples/t3_all_emotions/utts/The man_txt_3_desc_4_0.wav" type="audio/wav">
            </audio>
        </div>

        <div style="display: flex; align-items: center; gap: 20px; text-align: center; padding-bottom: 10px;">
            <div style="min-width: 50px;">The person</div>
            <audio controls>
                <source src="used_samples/t3_all_emotions/utts/The%20person_txt_3_desc_10_0.wav" type="audio/wav">
            </audio>
            <audio controls>
                <source src="used_samples/t3_all_emotions/utts/The%20person_txt_3_desc_13_0.wav" type="audio/wav">
            </audio>
            <audio controls>
                <source src="used_samples/t3_all_emotions/utts/The%20man_txt_3_desc_4_0.wav" type="audio/wav">
            </audio>
        </div>
    </div>

    <footer>
    </footer>
</body>
</html>
